# сценарий 3 "авторизация"

## Акторы:

* пользователь приложения, далее *пользователь*
* пользователь прошедший авторизацию, далее *авторизированный пользователь*
* мобильное приложение, далее *приложение*
* система обслуживающая вызовы приложения, далее *бэкенд*
* оператор сотовой связи, далее *оператор*
* совместная работа приложения и бэкенда, далее *система*

## Начальные условия: пользователь выбрал пункт авторизация в сценарии 1 или 1.1

## Основной сценарий:

1. Пользователь вводит свои учетные данные в приложении
2. Приложение отсылает бэкенду введенные учетные данные в виде шехе методом POST
3. Бэкенд проверяет наличие такого шеша в базе
4. При нахождении совпадения бэкенд отправляет ответ Ок приложению.
Далее бэкенд отправляет оператору запрос на отправку сообщения СМС с кодом на номер привязанный к этой учетной записи
(код генерирует бэкенд)
5. Приложение сообщает пользователю, что его учетные данные верны и для дальнейшей авторизации необходимо ввести пароль из СМС
6. Оператор отправляет пользователю СМС
7. Пользователь вводит в приложение пароль из СМС

## Альтернативные сценарии
а.3. Пользователь не соглашается на авторизацию и продолжает работу в разделах не требующих авторизацию.
а.4. Если сценарий 4 завершился неудачей, то приложение сделает запрос на повторную авторизацию. 
а.4.1. Если пользователь не соглашается на повторную авторизацию, то продолжает работу в разделах не требующих авторизацию. 
а.4.2. Если пользователь соглашается на повторную авторизацию, то переходит в основной сценарий пункт 4.
